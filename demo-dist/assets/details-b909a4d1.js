import{r as c,j as s}from"./preload-helper-d14b839a.js";import{c as o,a as p,d as m}from"./main-f6f28c70.js";import{c as i}from"./clsx-0839fdbe.js";function b(e){const{instance:n}=o("useParams"),[t]=c.useState(()=>{const{params:r={}}=n;return e?e==null?void 0:e(r):r});return t}function u(e){const n={},t=new URLSearchParams(e??"");for(const r of t.keys()){const a=t.getAll(r);a.length===1?n[r]=a[0]:n[r]=a}return n}function g(e){return new URLSearchParams(Object.keys(e).reduce((n,t)=>{const r=e[t];return n.concat(Array.isArray(r)?r.map(a=>[t,a]):[[t,r]])},[])).toString()}function j(e){const{instance:n}=o("useQuery");return c.useMemo(()=>{if(typeof n.search!="string")return(e==null?void 0:e({}))??{};const t=u(n.search);return typeof e=="function"?e(t):t},[e,n.search])}function f(){const{instance:e}=o("useSetQuery"),{router:n}=p("useNavigate");return c.useCallback(t=>{const r=u(e.search),a=typeof t=="function"?t(r):t;n.updateSearch(e.pathname,e.key,g(a))},[e.key,e.pathname,e.search,n])}function y(e){const n=j(e),t=f();return[n,t]}const w=e=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:48,viewBox:"0 -960 960 960",width:48,...e},c.createElement("path",{d:"m624.37-105.13-351-351q-5.479-5.479-7.837-11.316-2.359-5.837-2.359-12.554 0-6.717 2.359-12.554 2.358-5.837 7.837-11.316l351-351q12.195-12.195 30.869-12.315 18.674-.119 31.109 12.076 12.956 13.196 12.956 31.489 0 18.294-12.956 31.49L374.218-480l312.13 312.13q13.956 14.196 13.076 31.87-.88 17.674-13.076 29.87-13.196 13.195-31.489 13.195-18.294 0-30.489-12.195Z"})),S=e=>{const{className:n,style:t,children:r,canBack:a=!0,title:d,content:l,contentClassName:h}=e,x=m();return s.jsxs("nav",{className:i("box-border bg-white transition-colors sticky black top-0 left-0 w-full z-10",n),style:t,children:[s.jsx("div",{className:i("relative flex items-center justify-center h-44",h),children:c.isValidElement(l)?l:s.jsxs(s.Fragment,{children:[a&&s.jsx("button",{className:"absolute z-1 left-0 top-0 pl-[7px] min-w-[100px] h-full bg-transparent border-none",onClick:()=>x(-1),"aria-label":"Back",children:s.jsx(w,{className:"svgr text-24"})}),s.jsx("h2",{className:"text-center text-[17px] font-bold",children:d})]})}),r]})},P=()=>{const[e,n]=y(),t=b();return s.jsxs(s.Fragment,{children:[s.jsx(S,{title:"详情页"}),t.id==="50"&&s.jsxs("div",{className:"mt-20 mx-18 p-10 text-orange-500 bg-orange-100 rounded-[14px] text-14",children:[s.jsx("p",{children:"很好！你加载了多次数据成功找到了第 50 个元素"}),s.jsx("br",{}),s.jsx("p",{children:"现在思考一下："}),s.jsx("p",{children:"如果返回上一个页面，需要重新点击“加载更多”按钮才能再次找到第 50 个元素吗？"})]}),s.jsxs("div",{className:"mt-20 mx-18 p-10 border border-slate-200 rounded-[14px]",children:[s.jsx("p",{children:"Path Params"}),s.jsx("pre",{className:"my-10 p-10 bg-[#3f3f3f] text-white rounded-[12px]",children:s.jsx("code",{children:JSON.stringify(t,null,2)})})]}),s.jsxs("div",{className:"mt-20 mx-18 p-10 border border-slate-200 rounded-[14px]",children:[s.jsx("p",{children:"URL Search"}),s.jsx("pre",{className:"my-10 p-10 bg-black text-white rounded-[12px]",children:s.jsx("code",{children:JSON.stringify(e,null,2)})}),s.jsx("button",{className:"block w-full h-44 bg-blue-100 text-blue-500 font-bold rounded-[12px] outline-none",type:"button",onClick:()=>{n({orderBy:"dsc",keyword:"foo",now:Date.now().toString()})},children:"Update URL Search"})]})]})};export{P as default};
